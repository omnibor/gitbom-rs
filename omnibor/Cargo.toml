[package]

name = "omnibor"
version = "0.5.1"

description = "Reproducible software identity and fine-grained build dependency tracking."
repository = "https://github.com/omnibor/omnibor-rs"
readme = "../README.md"
categories = ["cryptography", "development-tools"]
keywords = ["gitbom", "omnibor", "sbom"]

edition.workspace = true
license.workspace = true
homepage.workspace = true

[dependencies]

# The async runtime we support.
tokio = { version = "1.36.0", features = ["io-util"] }

# Support conversion of ArtifactId's to and from `gitoid`-scheme URLs.
url = "2.5.0"

# Support serializing and deserializing.
serde = { version = "1.0.197", optional = true }

[dependencies.gitoid]
version = "0.7.0"
default-features = false
features = [
    "async",
    "hex",
    "sha256",
    "std",
    "url"
]

[dev-dependencies]

# This just adds the "fs" feature when running tests.
tokio = { version = "1.36.0", features = ["io-util", "fs"] }

# Helper for running tests with the Tokio runtime.
tokio-test = "0.4.3"

# Match the version used in the `gitoid` crate.
digest = "0.10.7"

# Helper for testing Serde implementations.
serde_test = "1.0.176"

[features]

# Support serde serialization and deserialization
serde = ["dep:serde", "gitoid/serde"]
